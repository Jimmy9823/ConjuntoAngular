<div class="container">
  <h2>Lista de Personas Registradas</h2>
  
  <!-- Botón para cargar personas -->
  <button (click)="cargarPersonas()" [disabled]="cargando" class="btn btn-primary">
    {{ cargando ? 'Cargando...' : 'Cargar Personas' }}
  </button>

  <!-- Mensajes de estado -->
  <div *ngIf="mensaje" [class]="esError ? 'mensaje error' : 'mensaje'">
    {{ mensaje }}
  </div>

  <!-- Información del token (para debug) -->
  <div *ngIf="!token" class="debug-info">
    <p>⚠️ No se encontró token en localStorage. Asegúrate de haber iniciado sesión.</p>
  </div>

  <!-- Tabla de personas -->
  <div *ngIf="personas.length > 0" class="tabla-container">
    <app-tabla 
      [columns]="columnas" 
      [data]="personas">
    </app-tabla>
    
    <div class="estadisticas">
      <p>Total de personas: {{ personas.length }}</p>
    </div>
  </div>

  <!-- Estado vacío -->
  <div *ngIf="personas.length === 0 && !cargando && !mensaje" class="estado-vacio">
    <p>No hay personas registradas. Haz clic en "Cargar Personas" para ver los datos.</p>
  </div>
</div>