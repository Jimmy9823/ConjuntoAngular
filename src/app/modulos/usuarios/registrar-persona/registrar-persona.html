


<body class="bg-gradient-to-r from-green-500 to-green-700 burbuja-fondo">

<div class="container d-flex justify-content-center align-items-start py-10">

    <div class="modern-card glass-effect p-5 organic-border elegant-shadow" 
         style="max-width: 800px; width: 100%;">

      

      <!-- BOTONES DE ACCI√ìN -->
      <div class="d-flex justify-content-center gap-2 mb-4 flex-wrap pb-3">
        <app-boton
          label="‚Üê Volver al Login"
          tipo="secundario"
          (accion)="volverAlLogin()"
        ></app-boton>
        

        

        <app-boton
          label="Ver Residentes ‚Üí"
          tipo="secundario"
          (accion)="irAResidentes()"
        ></app-boton>
      </div>

      <div class="separator mb-4 bg-white"></div>

      <!-- HEADER ICONO Y TITULO -->
      <div class="text-center mb-4">
        <h2 class="fw-bold text-white h2 font-black">Crear Nueva Persona</h2>
        <p class="text-white mb-0">
          Complete la informaci√≥n para registrar a una persona como residente en un apartamento.
        </p>
      </div>

      <!-- MENSAJES DE ESTADO -->
      <div *ngIf="mensaje" class="glass-message mb-3">
        {{ mensaje }}
      </div>

      <!-- ALERTA TOKEN -->
      <div *ngIf="!token" class="glass-warning mb-3">
        <p>‚ö†Ô∏è No se encontr√≥ token de autenticaci√≥n. Debes iniciar sesi√≥n primero.</p>
      </div>

      <!-- FORMULARIO -->
      <div class="form-container" *ngIf="token">

        <app-form
      [fields]="fields"
      [formGroup]="personaForm"
      [disableSubmit]="personaForm.invalid || cargando"
      (submitForm)="onSubmit($event)">
    </app-form>

         <!-- Informaci√≥n de debug -->
    <div class="debug-info" *ngIf="personaForm.value.numeroDocumento">
      <h4>üìä Debug Info:</h4>
      <p><strong>Token:</strong> {{ token ? 'Presente' : 'Faltante' }}</p>
      <p><strong>Formulario v√°lido:</strong> {{ personaForm.valid }}</p>
      <p><strong>Campos llenos:</strong> {{ contarCamposLlenos() }}/{{ fields.length }}</p>
      <p><strong>Fecha nacimiento:</strong> {{ personaForm.value.fechaNacimiento }}</p>
      <details>
        <summary>Ver datos del formulario</summary>
        <pre>{{ personaForm.value | json }}</pre>
      </details>
    </div>

      </div>

    </div>

  </div>

</body>
