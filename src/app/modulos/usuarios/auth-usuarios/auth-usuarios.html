<div class="container mt-4">
  <h2 class="text-center mb-4">Registro de Usuario y Persona</h2>

  <form (ngSubmit)="registrar()" #registroForm="ngForm">
    <!-- Usuario -->
    <div class="card p-3 shadow-sm mb-4">
      <h5>Datos de Usuario</h5>

      <div class="mb-3">
        <label>Email</label>
        <input
          [(ngModel)]="usuario.email"
          name="email"
          type="email"
          class="form-control"
          required
        />
      </div>

      <div class="mb-3">
        <label>Contraseña</label>
        <input
          [(ngModel)]="usuario.passwordHash"
          name="password"
          type="password"
          class="form-control"
          required
        />
      </div>
    </div>

    <!-- Persona -->
    <div class="card p-3 shadow-sm mb-4">
      <h5>Datos Personales</h5>

      <div class="mb-3">
        <label>Nombres</label>
        <input [(ngModel)]="persona.nombres" name="nombres" class="form-control" required />
      </div>

      <div class="mb-3">
        <label>Apellidos</label>
        <input [(ngModel)]="persona.apellidos" name="apellidos" class="form-control" required />
      </div>

      <div class="mb-3">
        <label>Tipo Documento</label>
        <select
          [(ngModel)]="persona.tipoDocumentoId"
          name="tipoDocumentoId"
          class="form-select"
        >
          <option [value]="1">Cédula de Ciudadanía</option>
          <option [value]="2">Tarjeta de Identidad</option>
          <option [value]="3">Cédula de Extranjería</option>
          <option [value]="4">Pasaporte</option>
          <option [value]="5">NIT</option>
        </select>
      </div>

      <div class="mb-3">
        <label>Número de Documento</label>
        <input
          [(ngModel)]="persona.numeroDocumento"
          name="numeroDocumento"
          class="form-control"
          required
        />
      </div>

      <div class="mb-3">
        <label>Teléfono</label>
        <input [(ngModel)]="persona.telefono" name="telefono" class="form-control" required />
      </div>
    </div>

    <button type="submit" class="btn btn-success w-100" [disabled]="cargando">
      {{ cargando ? 'Registrando...' : 'Registrar' }}
    </button>

    <div *ngIf="mensaje" class="alert alert-success mt-3">{{ mensaje }}</div>
    <div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>
  </form>
</div>
